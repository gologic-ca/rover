(function(e){function t(t){for(var n,c,i=t[0],a=t[1],u=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var a=r[i];0!==o[a]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},s=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=a;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"133a":function(e,t,r){e.exports=r.p+"img/kubernetes.36fdbc6b.png"},"1b55":function(e,t,r){},"30a7":function(e,t,r){},"32cb":function(e,t,r){e.exports=r.p+"img/arrow-down-circle.27fdf30c.svg"},4294:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col col-4-lg"},[e._m(0),r("resource-detail",{attrs:{resourceID:e.resourceID}})],1),r("div",{staticClass:"col col-8-lg"},[r("graph",{ref:"filegraph",attrs:{displayGraph:e.displayGraph},on:{getNode:e.selectResource}}),r("explorer",{on:{selectResource:e.selectResource}})],1)])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",[r("legend",[e._v("Legend")]),r("b",[e._v("Instructions")]),r("hr"),r("p",[e._v(" Click or hover on node to isolate that node's connections. Click on the light purple background to unselect. ")]),r("p",[e._v(" All resources that the node depends on are represented by a solid line. All resources that depend on the node are represented by a dashed line. ")]),r("hr"),r("b",[e._v("Resource")]),r("hr"),r("div",{staticClass:"node create"},[e._v("Resource - Create")]),r("div",{staticClass:"node delete"},[e._v("Resource - Delete")]),r("div",{staticClass:"node replace"},[e._v("Resource - Replace")]),r("div",{staticClass:"node update"},[e._v("Resource - Update")]),r("div",{staticClass:"node no-op"},[e._v("Resource - No Operation")]),r("hr"),r("b",[e._v("Other items")]),r("hr"),r("div",{staticClass:"node variable"},[e._v("Variable")]),r("div",{staticClass:"node output"},[e._v("Output")]),r("div",{staticClass:"node data"},[e._v("Data")]),r("div",{staticClass:"node module"},[e._v("Module")]),r("div",{staticClass:"node locals"},[e._v("Local")]),r("hr")])}],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{attrs:{id:"resource-details"}},[r("legend",[e._v("Details")]),r("div",{staticClass:"resource-detail"},[e.resourceID?r("div",[r("dd",{staticClass:"key"},[e._v(e._s(e.primitiveType))]),e.resourceChange.action?r("span",{staticClass:"tag is-small resource-action"},[e._v(e._s(e.resourceChange.action))]):e._e(),r("dt",{staticClass:"value resource-id"},[e._v(" "+e._s(e.resource.id)+" "),r("button",{ref:"rid",staticClass:"copy-button",on:{click:function(t){return e.copyText(e.resource.id,"rid")}}},[e._v(" Copy ")])]),r("nav",{staticClass:"tabs is-full"},[r("a",{class:{active:"config"===e.curTab},on:{click:function(t){return e.selectTab("config")}}},[e._v("Config")]),r("a",{class:{active:"current"===e.curTab,disabled:e.hasNoState},on:{click:function(t){return e.selectTab("current")}}},[e._v("Current State")]),r("a",{class:{active:"proposed"===e.curTab,disabled:e.hasNoState},on:{click:function(t){return e.selectTab("proposed")}}},[e._v("Proposed State")])]),"config"===e.curTab?r("div",{staticClass:"tab-container"},["rover-for-each-child-resource-true"==e.resourceConfig.isChild?r("span",{staticClass:"is-child-resource"},[e._v("Please check parent resource")]):e._l(e.resourceConfig,(function(t,n){return r("div",{key:n},[r("dd",{staticClass:"key"},[e._v(e._s(n))]),r("dt",{staticClass:"value"},[r("span",[e._v(e._s(e.getConfigValue(t)))]),r("button",{ref:e.resource.id+"-"+n,refInFor:!0,staticClass:"copy-button",on:{click:function(r){e.copyText(e.getConfigValue(t),e.resource.id+"-"+n)}}},[e._v(" Copy ")])])])}))],2):e._e(),"current"===e.curTab?r("div",{staticClass:"tab-container"},[e.resourceChange.before?r("span",e._l(e.resourceChange.before,(function(t,n){return r("div",{key:n},[r("dd",{staticClass:"key"},[e._v(e._s(n))]),r("dt",{staticClass:"value"},[e._v(" "+e._s(e.getBeforeValue(t))+" "),r("button",{ref:e.resource.id+"-"+n,refInFor:!0,staticClass:"copy-button",on:{click:function(r){e.copyText(e.getBeforeValue(t),e.resource.id+"-"+n)}}},[e._v(" Copy ")])])])})),0):r("span",[e._v("Resource doesn't currently exist.")])]):e._e(),"proposed"===e.curTab?r("div",{staticClass:"tab-container"},e._l(e.resourceChange.after,(function(t,n){return r("div",{key:n},[r("dd",{staticClass:"key"},[e._v(e._s(n))]),t?r("dt",{staticClass:"value",class:{"unknown-value":t.unknown}},[e._v(" "+e._s(t.unknown?"Value Unknown":t)+" "),r("button",{ref:e.resource.id+"-"+n,refInFor:!0,staticClass:"copy-button",on:{click:function(r){e.copyText(e.getBeforeValue(t),e.resource.id+"-"+n)}}},[e._v(" Copy ")])]):r("dt",{staticClass:"value"},[e._v("null")])])})),0):e._e()]):r("div",[r("span",[e._v("Please select a resource on your right.")])])])])},i=[],a=(r("a15b"),r("ac1f"),r("5319"),r("caad"),r("2532"),r("d3b7"),r("159b"),r("b64b"),r("2ca0"),r("1276"),r("fb6a"),r("99af"),r("466d"),r("bc3a")),u=r.n(a),l=r("f904"),d=r.n(l),f={name:"ResourceDetail",props:{resourceID:String},data:function(){return{curTab:"config",overview:{}}},methods:{selectTab:function(e){this.hasNoState||(this.curTab=e)},copyText:function(e,t){d()(e,{onCopy:this.updateCopyText(t)})},updateCopyText:function(e){var t=this;Array.isArray(this.$refs[e])?(this.$refs[e][0].innerText="Copied",setTimeout((function(){t.$refs[e][0].innerText="Copy"}),1e3)):(this.$refs[e].innerText="Copied",setTimeout((function(){t.$refs[e].innerText="Copy"}),1e3))},getConfigValue:function(e){return console.log("getConfigValue"),console.log(e),e.references?e.references.join(", "):e.constant_value?e.constant_value:e||"null"},getBeforeValue:function(e){return e||"null"},getAfterValue:function(e){return e||"null"},getResourceConfig:function(e,t,r){var n,o,s,c,i,a;console.log("getResourceConfig");var u,l=null!==(n=t.states[e])&&void 0!==n&&n.config_id?null===(o=t.states[e])||void 0===o?void 0:o.config_id:e.replace(/\[[^[\]]*\]/g,"");return r?{isChild:"rover-for-each-child-resource-true"}:void 0!==(u=null===(s=t.configs[l])||void 0===s?void 0:s.variable_config)||void 0!==(u=null===(c=t.configs[l])||void 0===c?void 0:c.output_config)||void 0!==(u=null===(i=t.configs[l])||void 0===i?void 0:i.module_config)||void 0!==(u=null===(a=t.configs[l])||void 0===a?void 0:a.resource_config)?u:{}},getResourceChange:function(e,t){console.log("resourceID: ".concat(e)),console.log(t);var r={};if(e.includes("var."))return r={};if(e.includes("output.")){if(t.states[e]&&t.states[e].change){var n=t.states[e].change;return n.actions&&(r.action=n.actions.length>1?"replace":n.actions[0]),r.before=n.before?n.before:null,r.after=n.after?n.after:{},"string"===typeof r.before&&(r.before={value:r.before}),"string"===typeof r.after&&(r.after={value:r.after}),n["after_unknown"]&&(r.after["value"]={unknown:!0}),console.log(r),r}return r={}}if(t.states[e]&&t.states[e].change){var o=t.states[e].change;o.actions&&(r.action=o.actions.length>1?"replace":o.actions[0]),r.before=o.before?o.before:{},r.after=o.after?o.after:{},o["after_unknown"]&&Object.keys(o["after_unknown"]).forEach((function(e){r.after[e]={unknown:!0}}))}return r}},computed:{resource:function(){var e="";e=this.resourceID.startsWith("Resources/")?this.resourceID.split("/").join("."):this.resourceID.split("/").slice(-2).join(".");var t=e.split("."),r=t.length-1,n=t.join(".");return this.resourceID.startsWith("Resources/")&&(n=t.slice(1).join(".")),console.log("icitte"),console.log(t),console.log(n),{fileName:"".concat(t[0],".").concat(t[1]),id:n,resource_type:t[r-1],resource_name:t[r]}},primitiveType:function(){switch(console.log("primitiveType"),console.log(this.resource.resource_type),this.resource.resource_type){case"output":case"var":case"local":return this.resource.resource_type;default:return this.resource.id.startsWith("data.")?"data":"resource"}},isChild:function(){return console.log("isChild"),null!=this.resource.id.match(/\[[^[\]]*\]$/g)},hasNoState:function(){return console.log("hasNoState"),this.resource.id.includes("var.")},resourceConfig:function(){return this.getResourceConfig(this.resource.id,this.overview,this.isChild)},resourceChange:function(){return this.getResourceChange(this.resource.id,this.overview)}},watch:{resourceID:function(e){e.includes("var.")&&(this.curTab="config")}},mounted:function(){var e=this;"undefined"!==typeof rso?this.overview=rso:u.a.get("/api/rso").then((function(t){e.overview=t.data}))}},p=f,v=(r("b86a"),r("2877")),h=Object(v["a"])(p,c,i,!1,null,"26da36ae",null),g=h.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",[r("legend",[e._v("Resources")]),r("File"),e._l(e.map.root,(function(t,n){return r("div",{key:n},[r("File",{attrs:{fileName:n,resources:t.children},on:{selectResource:e.selectResource}})],1)}))],2)},b=[],C=(r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.fileName?r("div",{staticClass:"file"},[r("div",{staticClass:"row",on:{click:function(t){e.showChildren=!e.showChildren}}},[r("img",{staticClass:"file-expand-icon",attrs:{src:e.expandIcons[e.expandIcon]}}),r("div",{staticClass:"col-11 file-name"},[r("strong",{staticClass:"text-lowercase"},[e._v(e._s(e.fileName))])])]),e._l(e.sortedResources,(function(t){return[r("transition-group",{key:t[0],attrs:{name:"resources"}},[e.showChildren?r("resource-card",{key:t[0],attrs:{id:t[0],content:t[1],isChild:!1,"handle-click":e.selectResource}}):e._e()],1)]}))],2):e._e()}),m=[],y=(r("4e82"),r("4fad"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card resource-main",class:[e.isChild?"child":"","resource-card "+e.content.type,null!=e.content.change_action?e.content.change_action:"",null!=e.content.change_action?"":"resource-type-card"]},[r("div",{staticClass:"row",on:{click:function(t){return e.handleClick(e.id)}}},[r("div",{staticClass:"col col-6 resource-col"},[r("p",{staticClass:"is-small resource-action",on:{click:function(t){e.showChildren=!e.showChildren}}},[r("img",{staticClass:"multi-tag resource-action-icon",attrs:{src:e.expandIcons[e.expandIcon]}})]),r("p",{staticClass:"resource-name"},[e._v(" "+e._s(e.content.name)+" ")])]),r("div",{staticClass:"col col-4"},[e.resourceProvider?[e.providerIcon[e.resourceProvider]?r("img",{staticClass:"provider-icon",attrs:{src:e.providerIcon[e.resourceProvider]}}):r("span",{staticClass:"tag is-small provider-icon-tag"},[e._v(" "+e._s(e.resourceProvider[0])+" ")])]:e._e(),r("p",{staticClass:"provider-resource-name"},[e._v(" "+e._s(e.resourceProvider?e.resourceProvider+".":"")+e._s(e.content.resource_type?e.content.resource_type:"")+" ")])],2),e.content.line?r("div",{staticClass:"col col-2 text-right"},[e._v(" Line: # "),r("span",{staticClass:"line-number"},[e._v(e._s(e.content.line))])]):e._e()]),e._l(e.sortedResources,(function(t){return[r("transition-group",{key:t[0],attrs:{name:"resources"}},[e.showChildren?r("resource-card",{key:t[0],attrs:{id:t[0],content:t[1],isChild:!1,"handle-click":e.handleClick}}):e._e()],1)]}))],2)}),x=[],w={name:"ResourceCard",props:{id:String,content:Object,isChild:Boolean,handleClick:Function},data:function(){return{showChildren:!0,providerIcon:{aws:r("a06f"),azure:r("e73c"),gcp:r("6c11"),helm:r("d833"),kubernetes:r("133a")},resourceChangeIcons:{create:r("6b56"),read:null,"no-op":null,update:r("5ba8"),delete:r("5daf"),replace:r("b40f")},expandIcons:{null:null,expand:r("32cb"),collapse:r("c88e")}}},methods:{},computed:{expandIcon:function(){return this.content.children?this.showChildren?"collapse":"expand":null},sortedResources:function(){if(this.content.children){var e=Object.entries(this.content.children).sort((function(e,t){return e[1].line-t[1].line}));return e}return null},resourceProvider:function(){return this.content.provider?this.content.provider:this.content.resource_type?this.content.resource_type.split("_")[0]:null}}},k=w,R=(r("9de1"),Object(v["a"])(k,y,x,!1,null,"fc559bc8",null)),T=R.exports,I={name:"File",components:{ResourceCard:T},props:{fileName:String,resources:Object},data:function(){return{showChildren:!0,expandIcons:{expand:r("32cb"),collapse:r("c88e")}}},methods:{selectResource:function(e){this.$emit("selectResource",e)}},computed:{expandIcon:function(){return this.showChildren?"collapse":"expand"},sortedResources:function(){var e=Object.entries(this.resources).sort((function(e,t){return e[1].line-t[1].line}));return e}}},j=I,O=(r("95b3"),Object(v["a"])(j,C,m,!1,null,"3d7b7730",null)),D=O.exports,P={name:"Explorer",components:{File:D},data:function(){return{map:{}}},methods:{selectResource:function(e){this.$emit("selectResource",e)}},mounted:function(){var e=this;"undefined"!==typeof map?this.map=map:u.a.get("/api/map").then((function(t){e.map=t.data}))}},$=P,S=(r("6a11"),Object(v["a"])($,_,b,!1,null,"1cda27d5",null)),N=S.exports,V={name:"App",metaInfo:{title:"Rover | Terraform Visualization"},components:{Explorer:N,ResourceDetail:g},data:function(){return{displayGraph:!0,resourceID:""}},methods:{saveGraph:function(){this.$refs.filegraph.saveGraph()},selectResource:function(e){this.resourceID=e}}},E=V,F=(r("fd4b"),Object(v["a"])(E,o,s,!1,null,"78a81903",null)),A=F.exports,B=r("3a6f"),G=r.n(B),M=r("58ca");n["default"].use(G.a),n["default"].use(M["a"]),n["default"].config.productionTip=!1,n["default"].config.devtools=!0,new n["default"]({render:function(e){return e(A)}}).$mount("#app")},"5ba8":function(e,t,r){e.exports=r.p+"img/alert-triangle.d88bf755.svg"},"5daf":function(e,t,r){e.exports=r.p+"img/minus.f2deefda.svg"},"6a11":function(e,t,r){"use strict";r("1b55")},"6a8c":function(e,t,r){},"6b56":function(e,t,r){e.exports=r.p+"img/plus.b121a385.svg"},"6c11":function(e,t,r){e.exports=r.p+"img/gcp.2bdb5143.png"},"95b3":function(e,t,r){"use strict";r("4294")},"9de1":function(e,t,r){"use strict";r("6a8c")},a06f:function(e,t,r){e.exports=r.p+"img/aws.082444af.png"},b40f:function(e,t,r){e.exports=r.p+"img/refresh-cw.286819b2.svg"},b86a:function(e,t,r){"use strict";r("30a7")},bce3:function(e,t,r){},c88e:function(e,t,r){e.exports=r.p+"img/arrow-up-circle.c7e27cfe.svg"},d833:function(e,t,r){e.exports=r.p+"img/helm.0d1950ff.png"},e73c:function(e,t,r){e.exports=r.p+"img/azure.0386fb3d.png"},fd4b:function(e,t,r){"use strict";r("bce3")}});
//# sourceMappingURL=app.fd4486e6.js.map